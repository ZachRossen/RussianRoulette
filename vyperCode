players: public(DynArray[address, 100])
losers: public(DynArray[address, 100])
odds: public(uint256)
playersTurn: public(uint256)
creator: address

@external
def __init__():
    self.creator = msg.sender

@external
def setOdds(oneInThisMany: uint256):
    assert msg.sender == self.creator
    self.odds = oneInThisMany

@external
def addPlayer(player: address):
    assert not isALoser
    for addr in self.players:
        assert addr != player
    self.players.append(address)

@internal
def lose(player: address):
    self.players = []
    self.losers.append(address)

@external
def random() -> (uint256):
    return block.number % self.odds + 1

@external
def play():
    if random() == 1:
        self.lose(self.players[self.playersTurn])
    else:
        self.playersTurn += 1

@external
def isALoser(person: address) -> (bool):
    for addr in self.losers:
        if addr == person:
            return True
    return False
